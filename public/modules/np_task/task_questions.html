<!DOCTYPE html>
<html>
<head>
  <title>Questions</title>
</head>

<body>
  <div id="task_questions_timer"></div>
  <div id="chart-wrapper"></div>
  <div id="task_questions">
    <h5> <span id="status"></span> </h5>
    <h3 id="task_question_header">Please answer the questions using the visualization of Jellystone national park as a reference: </h3>

    <!-- <div id="questions"> -->
     
    <!-- </div> -->
    <br>
    <div id="task_q1">
      <span class="question header">1. How is type of accomodation encoded in the visualization?</span>
       <br>
       <ul>
        <li><input type="radio" name="t_q1" value="line width">line width</li>
        <li><input type="radio" name="t_q1" value="circle radius">circle radius</li>
        <li><input type="radio" name="t_q1" value="color">color</li>
        <li><input type="radio" name="t_q1" value="slope">slope</li>
        <li><input type="radio" name="t_q1" value="I don't know">I don't know</li>
       </ul>
     </div>
    <br>
    <div id="task_q2"><span class="question header">2. What does the central number "25k" most likely represent?</span>
      <br>
      <ul>    
          <li> <input type="radio" name="t_q2" value="A data point for one of the categories">A data point for one of the categories</li>
          <li><input type="radio" name="t_q2" value="Square feet used in the park.">Square feet used in the park.</li>
          <li><input type="radio" name="t_q2" value="Nights spent by visitors in the park">Nights spent by visitors in the park</li>
          <li><input type="radio" name="t_q2" value="People visiting the park">People visiting the park</li>
          <li> <input type="radio" name="t_q2" value="I don't know">I don't know</li>
      </ul>
    </div>
    <br>
    <div id="task_q3">
      <span class="question header">3. The chart most likely represents data collected over what time frame?</span>
      <br>
      <ul>
          <li><input type="radio" name="t_q3" value="A single month">A single month</li>
          <li><input type="radio" name="t_q3" value="A single year">A single year</li>
          <li><input type="radio" name="t_q3" value="A period of several years">A period of several years</li>
          <li><input type="radio" name="t_q3" value="An unspecified time frame">An unspecified time frame</li>
          <li><input type="radio" name="t_q3" value="I don't know">I don't know</li>
      </ul>
    </div>
    <br>
    <div id="task_q4">
      <span class="question header">4. What does the red space in the visualization indicate about the average temperature?</span>
      <br>
      <ul>
          <li><input type="radio" name="t_q4" value="Average temperature is below 50°F">Average temperature is below 32°F</li>
          <li><input type="radio" name="t_q4" value="Average temperature is between 50°F and 70°F">Average temperature is between 32°F and 70°F</li>
          <li><input type="radio" name="t_q4" value="Average temperature is above 70°F">Average temperature is above 70°F</li>
          <li><input type="radio" name="t_q4" value="The park is closed due to low temperatures">The park is closed due to low temperatures</li>
          <li><input type="radio" name="t_q4" value="I don't know">I don't know</li>
      </ul>
    </div>
    <br>
    <div id="task_q5">
      <span class="question header">5. What does each colored line represent?</span>
      <br>
      <ul> 
          <li><input type="radio" name="t_q5" value="Nights spent per type of accomodation">Nights spent per type of accomodation</li>
          <li><input type="radio" name="t_q5" value="Temperatures through the year in parks in Bolivia">Temperatures through the year in parks in Bolivia</li>
          <li><input type="radio" name="t_q5" value="Popularity of different parks">Popularity of different parks</li>
          <li><input type="radio" name="t_q5" value="Visitors per season in the national park">Visitors per season in the national park</li>
          <li><input type="radio" name="t_q5" value="I don't know">I don't know</li>
      </ul>
    </div>
    <br>
    <div id="task_q6">
     <span class="question header">6. When a colored line gets closer to the edge of the chart, what does this mean?</span>
      <br>
      <ul>
          <li><input type="radio" name="t_q6" value="The average temerature is rising.">The average temerature is rising.</li>
          <li><input type="radio" name="t_q6" value="The average night stays are nearing 0 nights.">The average night stays are nearing 0 nights.</li>
          <li><input type="radio" name="t_q6" value="The average night stays are nearing 14,000 nights.">The average night stays are nearing 25,000 nights.</li>
          <li><input type="radio" name="t_q6" value="The park is experiencing its highest visitor activity for the year">The park is experiencing its highest visitor activity for the year.</li>
          <li><input type="radio" name="t_q6" value="I don't know">I don't know</li>
      </ul>
    </div>
    <br>
    <div id="task_q7">
      <span class="question header">7. What accommodation is used the least year-round?</span>
       <br>
       <ul>
        <li><input type="radio" name="t_q7" value="Lodging">Lodging</li>
        <li><input type="radio" name="t_q7" value="RV">RV</li>
        <li><input type="radio" name="t_q7" value="Tent">Tent</li>
        <li><input type="radio" name="t_q7" value="Backcountry">Backcountry</li>
        <li><input type="radio" name="t_q7" value="I don't know">I don't know</li>
       </ul>
     </div>
     <br>
    <div id="task_q8">
      <span class="question header">8. Which month appears to have the highest overall visitation regardless of accommodation type?</span>
       <br>
       <ul>
        <li><input type="radio" name="t_q8" value="January">January</li>
        <li><input type="radio" name="t_q8" value="April">April</li>
        <li><input type="radio" name="t_q8" value="July">July</li>
        <li><input type="radio" name="t_q8" value="October">October</li>
        <li><input type="radio" name="t_q8" value="I don't know">I don't know</li>
       </ul>
     </div>
     <div id="task_q9">
      <span class="question header">9. What does the outermost ring of the chart likely indicate?</span>
       <br>
       <ul>
        <li><input type="radio" name="t_q9" value="The maximum value">The maximum value</li>
        <li><input type="radio" name="t_q9" value="The minimum value">The minimum value</li>
        <li><input type="radio" name="t_q9" value="The average value">The average value</li>
        <li><input type="radio" name="t_q9" value="The median value">The median value</li>
        <li><input type="radio" name="t_q9" value="I don't know">I don't know</li>
       </ul>
     </div>
     <div id="task_q10">
      <span class="question header">10. How many different categories of accommodation are there?</span>
       <br>
       <ul>
        <li><input type="radio" name="t_q10" value="2">2</li>
        <li><input type="radio" name="t_q10" value="3">3</li>
        <li><input type="radio" name="t_q10" value="4">4</li>
        <li><input type="radio" name="t_q10" value="5">5</li>
        <li><input type="radio" name="t_q10" value="I don't know">I don't know</li>
       </ul>
     </div>

      <div id="task_q11"><span class="question header">11. Your friend only wants to visit when it's likely to be between 32°F-70°F, which month will you recommend?</span>
        <br>
        <ul>
          <li><input type="radio" name="t_q11" value="June">June</li>
          <li><input type="radio" name="t_q11" value="February">February</li>
          <li><input type="radio" name="t_q11" value="August">August</li>
          <li><input type="radio" name="t_q11" value="July">July</li>
          <li><input type="radio" name="t_q11" value="I do not recall">I do not recall</li>
        </ul>
      </div>
      <br>
      <div id="task_q12"><span class="question header">12. What is the nightly peak of tent camping activity in Jellystone?</span>
        <br>
        <ul>
          <li><input type="radio" name="t_q12" value="50,000 nights">50,000 nights</li>
          <li><input type="radio" name="t_q12" value="100,000 nights">100,000 nights</li>
          <li><input type="radio" name="t_q12" value="140,000 nights">140,000 nights</li>
          <li><input type="radio" name="t_q12" value="200,000 nights">200,000 nights</li>
          <li><input type="radio" name="t_q12" value="I do not recall">I do not recall</li>
        </ul>
      </div>
      <br>
      <div id="task_q13"><span class="question header">13. What type of accommodation is available all year round?</span>
        <br>
        <ul>
          <li><input type="radio" name="t_q13" value=Lodging>Lodging</li>
          <li><input type="radio" name="t_q13" value=Tent>Tent</li>
          <li><input type="radio" name="t_q13" value=RV>RV</li>
          <li><input type="radio" name="t_q13" value=Backcountry>Backcountry</li>
          <li><input type="radio" name="t_q13" value="I do not recall">I do not recall</li>
        </ul>
      </div>
      <br>
      <div id="task_q14"><span class="question header">14. You plan to spend time in Jellystone to snowshoe, please select all accommodations available at that time of year in Jellystone.</span>
        <br>
        <ul>
          <li><input type="checkbox" name="t_q14" value=Lodging>Lodging</li>
          <li><input type="checkbox" name="t_q14" value=Tent>Tent</li>
          <li><input type="checkbox" name="t_q14" value=RV>RV</li>
          <li><input type="checkbox" name="t_q14" value=Backcountry>Backcountry</li>
          <li><input type="checkbox" name="t_q14" value="I do not recall">I do not recall</li>
        </ul>
      </div>
      <br>
      <div id="task_q15"><span class="question header">15. You are planning a trip to Jellystone but want to choose the least popular accommodation to beat the crowds. 
        What type of accommodation has the least amount of nights spent per year?</span>
        <br>
        <ul>
          <li><input type="radio" name="t_q15" value=Lodging>Lodging</li>
          <li><input type="radio" name="t_q15" value=Tent>Tent</li>
          <li><input type="radio" name="t_q15" value=RV>RV</li>
          <li><input type="radio" name="t_q15" value=Backcountry>Backcountry</li>
          <li><input type="radio" name="t_q15" value="I do not recall">I do not recall</li>
        </ul>
      </div>
      <br>
      <div id="task_q16"><span class="question header">16. You are making recommendations for a colleague's trip to Jellystone. 
        They're sensitive to temperature and prefer visiting the park when the average temperature is above freezing but below 70°F. 
        What month is in the ideal timeframe to recommend?</span>
        <br>
        <ul>
          <li><input type="radio" name="t_q16" value="June">June</li>
          <li><input type="radio" name="t_q16" value="February">February</li>
          <li><input type="radio" name="t_q16" value="September">September</li>
          <li><input type="radio" name="t_q16" value="July">July</li>
          <li><input type="radio" name="t_q16" value="I do not recall">I do not recall</li>
        </ul>
      </div>
      <div id="task_q17">
        <span class="question header">17. Which statement is true regarding the popularity of accommodations in Jellystone Park?</span>
         <br>
         <ul>
          <li><input type="radio" name="t_q17" value="Lodging is most popular in the summer.">Lodging is most popular in the summer.</li>
          <li><input type="radio" name="t_q17" value="RV camping is more popular than tent camping">RV camping is more popular than tent camping</li>
          <li><input type="radio" name="t_q17" value="Backcountry camping is the most utilized form of accommodation.">Backcountry camping is the most utilized form of accommodation.</li>
          <li><input type="radio" name="t_q17" value="Tent camping is more popular than RV camping and backcountry camping.">Tent camping is more popular than RV camping and backcountry camping.</li>
          <li><input type="radio" name="t_q17" value="I don't know">I don't know</li>
         </ul>
       </div>
       <div id="task_q18">
        <span class="question header">18. What might be a reason for the small bump in lodging during August, as indicated in the visualization?</span>
         <br>
         <ul>
          <li><input type="radio" name="t_q18" value="A popular annual event takes place in August.">A popular annual event takes place in August.</li>
          <li><input type="radio" name="t_q18" value="The weather is exceptionally warm during August.">The weather is exceptionally warm during August.</li>
          <li><input type="radio" name="t_q18" value="There is a misprint in the visualization data.">There is a misprint in the visualization data.</li>
          <li><input type="radio" name="t_q18" value="More visitors may be coming to the park for snow activities.">More visitors may be coming to the park for snow activities.</li>
          <li><input type="radio" name="t_q18" value="I don't know">I don't know</li>
         </ul>
       </div>
       <div id="task_q19">
        <span class="question header">19. Based on the seasonal patterns shown in the visualization, if you wanted to avoid both extreme temperatures and high visitor numbers for a peaceful trip, which month might be the optimal choice?</span>
         <br>
         <ul>
          <li><input type="radio" name="t_q19" value="January, as it is the off-peak season.">January, as it is the off-peak season.</li>
          <li><input type="radio" name="t_q19" value="February, as it is the start of the peak season with moderate temperatures.">February, as it is the start of the peak season with moderate temperatures.</li>
          <li><input type="radio" name="t_q19" value="July, assuming it has similar trends to June.">July, assuming it has similar trends to June.</li>
          <li><input type="radio" name="t_q19" value="I don't know">I don't know</li>
         </ul>
       </div>
       <div id="task_q20">
        <span class="question header">20. Given the trends shown in the visualization, if the park introduced a new winter festival in July to celebrate mid-winter, how might this event be reflected in the data for lodging?</span>
         <br>
         <ul>
          <li><input type="radio" name="t_q20" value="No change, as July is not a popular month for any accommodations.">No change, as July is not a popular month for any accommodations.</li>
          <li><input type="radio" name="t_q20" value="A slight increase, similar to the bump seen in August.">A slight increase, similar to the bump seen in August.</li>
          <li><input type="radio" name="t_q20" value="A decrease, as people might prefer to visit in less crowded times.">A decrease, as people might prefer to visit in less crowded times.</li>
          <li><input type="radio" name="t_q20" value="I don't know">I don't know</li>
         </ul>
       </div>
      </div>
    </div>
</div>

<style>
    ul {
    list-style-type: none;
    }
    #task_questions{
      width: 70%;
      margin: auto;
    }
    *{
      background-color: #f5eeeb;
    }
    #chart-wrapper{
      width: 70%;
      margin: auto;
      display:flex;
      justify-content: center;
    }
</style>

<script>
(function() {
  let ob = d3.select('#chart-wrapper').append('object');
        ob.attr('data', "modules/np_task/jellystone_vis.svg");
        ob.attr('width', 'auto')
        ob.attr('height', '300px')

  var data = {};

  experimentr.startTimer('task_questions_timer');
  experimentr.startTimer('task_q1_timer');
  experimentr.startTimer('task_q2_timer');
  experimentr.startTimer('task_q3_timer');
  experimentr.startTimer('task_q4_timer');
  experimentr.startTimer('task_q5_timer');
  experimentr.startTimer('task_q6_timer');
  experimentr.startTimer('task_q7_timer');
  experimentr.startTimer('task_q8_timer');
  experimentr.startTimer('task_q9_timer');
  experimentr.startTimer('task_q10_timer');
  experimentr.startTimer('task_q11_timer');
  experimentr.startTimer('task_q12_timer');
  experimentr.startTimer('task_q13_timer');
  experimentr.startTimer('task_q14_timer');
  experimentr.startTimer('task_q15_timer');
  experimentr.startTimer('task_q16_timer');
  experimentr.startTimer('task_q17_timer');
  experimentr.startTimer('task_q18_timer');
  experimentr.startTimer('task_q19_timer');
  experimentr.startTimer('task_q20_timer');
  //d3.select('#status').text(experimentr.status());

  // experimentr.release();
  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q1' ? this : null; })
  .on('change', function() { data.t_q1 = this.value; experimentr.endTimer('task_q1_timer');  validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q2' ? this : null; })
  .on('change', function() { data.t_q2 = this.value; experimentr.endTimer('task_q2_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q3' ? this : null; })
  .on('change', function() { data.t_q3 = this.value; experimentr.endTimer('task_q3_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q4' ? this : null; })
  .on('change', function() { data.t_q4 = this.value; experimentr.endTimer('task_q4_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q5' ? this : null; })
  .on('change', function() { data.t_q5 = this.value; experimentr.endTimer('task_q5_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q6' ? this : null; })
  .on('change', function() { data.t_q6 = this.value; experimentr.endTimer('task_q6_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q7' ? this : null; })
  .on('change', function() { data.t_q7 = this.value; experimentr.endTimer('task_q7_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q8' ? this : null; })
  .on('change', function() { data.t_q8 = this.value; experimentr.endTimer('task_q8_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q9' ? this : null; })
  .on('change', function() { data.t_q9 = this.value; experimentr.endTimer('task_q9_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q10' ? this : null; })
  .on('change', function() { data.t_q10 = this.value; experimentr.endTimer('task_q10_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q11' ? this : null; })
  .on('change', function() { data.t_q11 = this.value; experimentr.endTimer('task_q11_timer');  validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q12' ? this : null; })
  .on('change', function() { data.t_q12 = this.value; experimentr.endTimer('task_q12_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q13' ? this : null; })
  .on('change', function() { data.t_q13 = this.value; experimentr.endTimer('task_q13_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q14' ? this : null; })
  .on('change', function() { data.t_q14 = this.value; experimentr.endTimer('task_q14_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q15' ? this : null; })
  .on('change', function() { data.t_q15 = this.value; experimentr.endTimer('task_q15_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q16' ? this : null; })
  .on('change', function() { data.t_q16 = this.value; experimentr.endTimer('task_q16_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q17' ? this : null; })
  .on('change', function() { data.t_q17 = this.value; experimentr.endTimer('task_q17_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q18' ? this : null; })
  .on('change', function() { data.t_q18 = this.value; experimentr.endTimer('task_q18_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q19' ? this : null; })
  .on('change', function() { data.t_q19 = this.value; experimentr.endTimer('task_q19_timer'); validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 't_q20' ? this : null; })
  .on('change', function() { data.t_q20 = this.value; experimentr.endTimer('task_q20_timer'); validate(); });


  function validate() {
    if(data.t_q1 && data.t_q2 &&
    data.t_q3 && data.t_q4 && data.t_q5 &&
      data.t_q6) {

        // experimentr.endTimer('task_2_questions_timer');
        // experimentr.addData(data);
        // experimentr.release();
    }
  }

  experimentr.release();
      	//overrides onNext from experimentr
    d3.select('#next-button')
      .on('click', function(){
        if(data.t_q1 && data.t_q2 && data.t_q3 && data.t_q4 && data.t_q5 && data.t_q6 &&  data.t_q7 && data.t_q8 && data.t_q9 && 
        data.t_q10 && data.t_q11 && data.t_q12 && data.t_q13 && data.t_q14 && data.t_q15 && data.t_q16 && data.t_q17 && data.t_q18 && data.t_q19 && data.t_q20){
          
          experimentr.endTimer('task_questions_timer');
          experimentr.addData(data);
          experimentr.next();

        }else{
          let keeper = []
          if(!data.t_q1) keeper.push('question 1')
          if(!data.t_q2) keeper.push('question 2')
          if(!data.t_q3) keeper.push('question 3')
          if(!data.t_q4) keeper.push('question 4')
          if(!data.t_q5) keeper.push('question 5')
          if(!data.t_q6) keeper.push('question 6')
          if(!data.t_q7) keeper.push('question 7')
          if(!data.t_q8) keeper.push('question 8')
          if(!data.t_q9) keeper.push('question 9')
          if(!data.t_q10) keeper.push('question 10')
          if(!data.t_q11) keeper.push('question 11')
          if(!data.t_q12) keeper.push('question 12')
          if(!data.t_q13) keeper.push('question 13')
          if(!data.t_q14) keeper.push('question 14')
          if(!data.t_q15) keeper.push('question 15')
          if(!data.t_q16) keeper.push('question 16')
          if(!data.t_q17) keeper.push('question 17')
          if(!data.t_q18) keeper.push('question 18')
          if(!data.t_q19) keeper.push('question 19')
          if(!data.t_q20) keeper.push('question 20')
          window.alert(`You still need to fill in: ${keeper.join(', ')}`)
        }
    });
}());
</script>

</body>
</html>
